% name:          artphysics.sty
% version:       see scripts/VERSION.md
% synopsis:      physics macros for `TeX` documents.
% license:       BSD3
% license-file:  scripts/LICENSE.md
% author:        art rimbaud
% maintainer:    rimbaudcode[at]gmail(DoT)com
% copyright:     (c) 2017 rimbaudcode
% category:      Text

\ProvidesPackage{sty/artphysics}[2017/03/06 physics macros, rimbaudcode]

% amsthm package
%
\theoremheaderfont{\normalfont\scshape}
\theoremseparator{.}
\theorembodyfont{\normalfont\itshape}
\theoremsymbol{}
%
\newtheorem{assumption}{Assumption}
\newtheorem{model}{Model}
\newtheorem{observation}{Observation}
%
\theorembodyfont{\upshape}
%
\newtheorem{notation}{Notation}
\newtheorem{scaling}{Scaling}
\newtheorem{summary}{Summary}
%
\theoremstyle{plain}
\theoremheaderfont{\normalfont\scshape}
\theoremseparator{.}
\theorembodyfont{\small}
%
\newtheorem*{analyticsol}{Analytic solution}
\newtheorem*{approximation}{Approximation}
\newtheorem*{bounds}{Bounds}
\newtheorem*{construction}{Construction}
\newtheorem*{dimensions}{Dimensional analysis}
\newtheorem*{extension}{Extension}
\newtheorem*{extremes}{Extreme cases}
\newtheorem*{geometry}{Geometry}
\newtheorem*{guess}{Guesstimation}
\newtheorem*{manalysis}{Math analysis}
\newtheorem*{process}{Process}
\newtheorem*{reference}{Reference}
\newtheorem*{refine}{Refinement}
\newtheorem*{values}{Numeric values}
%
\newtheorem*{assuming}{Assume}
\newtheorem*{deriving}{Derive}
\newtheorem*{calculating}{Calculate}
\newtheorem*{checking}{Check}
%
\theoremheaderfont{\itshape}
\theorembodyfont{\upshape}
\theoremsymbol{\ensuremath{\square}}
%
\newtheorem*{argument}{Argument}
\newtheorem*{derivation}{Derivation}
\newtheorem*{interpretation}{Interpretation}

% baby geometry
%
\providecommand*{\area}{a}   % area
\providecommand*{\depth}{h}  % depth
\providecommand*{\height}{h} % height
\providecommand*{\length}{l} % length
\providecommand*{\radius}{r} % radius
\providecommand*{\thick}{t}  % thickness
\providecommand*{\vol}{v}    % volume
\providecommand*{\width}{w}  % width

% misner notation for special tensors
%
\providecommand*{\mtens}[1]{\textit{\textsf{#1}}} % new (mine) misner style
%
\providecommand*{\meinstein}{\mtens{einstein}} % misner einstein
\providecommand*{\minvmet}{\mtens{g}^{-1}}     % misner inverse metric
\providecommand*{\mmetric}{\mtens{g}}          % misner metric
\providecommand*{\mricci}{\mtens{ricci}}       % misner ricci
\providecommand*{\mriemann}{\mtens{riemann}}   % misner riemann

% diagrammatic tensors
%
% boxed tensor
%
\providecommand*{\bxtensor}[1]{
  \begin{tikzpicture}[baseline=(char.base)]
    \node[draw,inner sep=2pt](char) {$#1$};
  \end{tikzpicture}
}
%
% circled tensor
%
\providecommand*{\citensor}[1]{
  \begin{tikzpicture}[baseline=(char.base)]
    \node[draw,circle,inner sep=2pt](char) {$#1$};
  \end{tikzpicture}
}

% (coordinate-free) geometric objects
%
\providecommand*{\point}[1]{\mathcal{#1}} % point in a manifold
\providecommand*{\pos}{x}                 % point position
%
% regions
%
\providecommand*{\oregion}[1]{\region{#1}^{{}\circ{}}} % open regions in space
\providecommand*{\region}[1]{\set{#1}}                 % regions in space
\providecommand*{\sbound}{\partial}                    % set boundary
\providecommand*{\sopen}[1]{{#1}^{\circ}}              % open set (set open)
%
% metric and co.
%
\providecommand*{\chris}{\Gamma}             % Christoffel symbol
\providecommand*{\invmet}{\inverse{\metric}} % inverse metric
\providecommand*{\kron}{\delta}              % Kronecker's delta
\providecommand*{\levicivi}{\epsilon}        % levi-civita (symbol)
\providecommand*{\metric}{g}                 % metric

% tensors
%
% slots
%
\providecommand*{\cslot}{{\scriptstyle{}\sim{}}}        % covector slot
\providecommand*{\eslot}{{\scriptstyle{}\cdot{}}}       % empty slot
\providecommand*{\vslot}{{\scriptstyle{}\rightarrow{}}} % vector slot
%
% products
%
\providecommand*{\cprod}{\times}  % cross product
\providecommand*{\iprod}{\cdot}   % inner product
\providecommand*{\oprod}{\wedge}  % outer product
\providecommand*{\tprod}{\otimes} % tensor product
%
% operators
%
\let\div\idiv
\DeclareMathOperator{\cont}{cont} % contraction
\DeclareMathOperator{\curl}{curl} % curl
\DeclareMathOperator{\div}{div}   % divergence
\DeclareMathOperator{\grad}{grad} % gradient
\DeclareMathOperator{\lap}{lap}   % Laplacian
%
% basis
%
\providecommand*{\belem}{e}                  % basis element
\providecommand*{\bset}[3]{\seq{#1}{#2}{#3}} % basis set
%
\providecommand*{\bcov}{\tilde{\belem}} % basis covector
\providecommand*{\bvec}{\belem}         % basis vector

% index-notation
%
\providecommand*{\tcov}[2]{\tensor{#1}{_{#2}}} % covector components
\providecommand*{\tvec}[2]{\tensor{#1}{^{#2}}} % vector components
%
\providecommand*{\tinvmet}[2]{\tensor{\metric}{^{#1}^{#2}}}          % inverse metric components
\providecommand*{\tkron}[2]{\tensor{\kron}{^{#1}_{#2}}}              % Kronecker's delta components
\providecommand*{\tlevicivi}[3]{\tensor{\levicivi}{_{#1}_{#2}_{#3}}} % levi-civita components
\providecommand*{\tmetric}[2]{\tensor{\metric}{_{#1}_{#2}}}          % metric components
%
\providecommand*{\tbcov}[1]{\tensor{\bcov}{^{#1}}}             % basis covectors
\providecommand*{\tbvec}[1]{\tensor{\bvec}{_{#1}}}             % basis vectors
\providecommand*{\tchris}[3]{\tensor{\chris}{^{#1}_{#2}_{#3}}} % christoffel symbol
%
% coordinate systems
%
\providecommand*{\coordbas}[3]{\seq{#1}{#2}{#3}} % coordinate basis
\providecommand*{\coordsys}[3]{\seq{#1}{#2}{#3}} % coordinate system
%
% rectangular
%
\providecommand*{\xpos}{x} % x position in rectangular coord.
\providecommand*{\ypos}{y} % y position in rectangular coord.
\providecommand*{\zpos}{z} % z position in rectangular coord.
%
% cylindrical polar
%
\providecommand*{\cxpos}{r}      % x position in cylindrical polar coord.
\providecommand*{\cypos}{\theta} % y position in cylindrical polar coord.
\providecommand*{\czpos}{z}      % z position in cylindrical polar coord.
%
% spherical polar
%
\providecommand*{\sxpos}{\rho}   % x position in spherical polar coord.
\providecommand*{\sypos}{\theta} % y position in spherical polar coord.
\providecommand*{\szpos}{\phi}   % z position in spherical polar coord.

% calculus
%
% derivatives
%
\providecommand*{\dx}{\mathrm{d}}          % differential
\providecommand*{\iod}[1]{\mathrm{d}_{#1}} % indexed ordinary derivative
\providecommand*{\ipd}[1]{\partial_{#1}}   % indexed partial derivative
%
% expanded derivatives
%
\providecommand*{\xod}[2]{\dfrac{\mathrm{d}{#1}}{\mathrm{d}{#2}}} % ord
\providecommand*{\xpd}[2]{\dfrac{\partial{#1}}{\partial{#2}}}     % partial
%
% special derivatives
%
\providecommand*{\dder}[1]{\tder_{#1}}      % directional derivative
\providecommand*{\mder}[1]{\mathrm{D}_{#1}} % indexed material derivative
\providecommand*{\tder}{\nabla}             % tensor derivative
%
\providecommand*{\xdder}[1]{{#1}\iprod\tder} % expanded dir. derivative
\providecommand*{\xcurl}{\tder\cprod}        % expanded curl
\providecommand*{\xdiv}{\tder\iprod}         % expanded divergence
\providecommand*{\xgrad}{\tder}              % expanded gradient
%
% expanded material derivative
\providecommand*{\xmder}[2]{\dfrac{\mathrm{D}{#1}}{\mathrm{D}{#2}}} %
%
% indexed material derivative
\providecommand*{\imder}{\mathrm{D}} %
%
\providecommand*{\slap}{\delta}            % symbolic Laplace's operator
\providecommand*{\xlap}{\tder^2}           % expanded Laplace's operator
\providecommand*{\xxlap}{\tder\iprod\tder} % expanded Laplace's operator
%
\providecommand*{\ctder}[1]{\tcov{\tder}{#1}} % covector tensor derivative
\providecommand*{\vtder}[1]{\tvec{\tder}{#1}} % vector tensor derivative
%
% material diffusive derivative
% {#1} -> velocity
% {#2} -> diffusivity
\providecommand*{\cdder}[2]{\triangle_{#1}^{#2}\,}       % transient
\providecommand*{\scdder}[2]{\underline{\cdder{#1}{#2}}} % steady state
%
% null material derivative (mnemonic: steady-steady state)
\providecommand*{\sscdder}[2]{\underline{\scdder{#1}{#2}}} % sscdder

% scaling
%
\providecommand*{\omag}[1]{o\vat{#1}} % order-of-magnitude
\providecommand*{\scales}{\propto}    % scales as

% dimensional analysis
%
\providecommand*{\diminv}[1]{\overline{#1}} % dimensionless inverse
\providecommand*{\dq}[1]{\tilde{#1}}        % dim. physical quantity
\providecommand*{\kdim}{\Pi}                % dimensionless quantity
\providecommand*{\phdim}[1]{\si{#1}}        % physical dimension
\providecommand*{\sdder}[1]{\tder^*_{#1}}   % scaled dir. derivative
%
\DeclareMathOperator{\kdarcy}{Da}    % Darcy's number
\DeclareMathOperator{\kfroude}{Fr}   % Froude's number
\DeclareMathOperator{\kmach}{Ma}     % Mach's number
\DeclareMathOperator{\krdarcy}{Da^*} % reduced Darcy's number
\DeclareMathOperator{\kreynolds}{Re} % Reynolds' number
\DeclareMathOperator{\kvolratio}{Vr} % volumetric ratio

% flow through porous media
%
\providecommand*{\change}{\Delta} % change
\providecommand*{\darcy}{q}       % Darcy's volumetric flux
\providecommand*{\dens}{\rho}     % density
\providecommand*{\fdarcy}{Q}      % Darcy's volumetric flow
\providecommand*{\grav}{g}        % free-fall acceleration
\providecommand*{\kdvisc}{\mu}    % dynamic viscosity
\providecommand*{\kkvisc}{\nu}    % kinematic viscosity
\providecommand*{\permea}{k}      % permeability
\providecommand*{\poros}{\phi}    % porosity
\providecommand*{\press}{p}       % pressure
\providecommand*{\spvol}{\eta}    % specific volume
\providecommand*{\vel}{u}         % velocity
\providecommand*{\shear}{\tau}    % shear stress
\providecommand*{\stress}{\sigma} % Cauchy stress
\providecommand*{\mob}{\lambda}   % phase mobility
%
\providecommand*{\vvol}{\vol_{\text{v}}} % void volume
\providecommand*{\wvol}{\vol_{\text{w}}} % water volume
%
\providecommand*{\wcont}{\theta}           % water content (moisture)
\providecommand*{\wdens}{\dens_{\text{w}}} % water mass density
\providecommand*{\wfrac}{f_{\text{w}}}     % water fraction
\providecommand*{\wsat}{s_\text{w}}        % water saturation
\providecommand*{\wvel}{\vel_\text{w}}     % water velocity
%
\providecommand*{\vflow}{Q}             % volumetric flow
\providecommand*{\wvflow}{Q_{\text{w}}} % water volumetric flow
%
\providecommand*{\fvol}{\vol_{\text{f}}} % fluid volume
\providecommand*{\fcont}{\theta}         % fluid volumetric content
\providecommand*{\ffrac}{f}              % fluid volumetric flow fraction
\providecommand*{\fsat}{s}               % fluid volumetric saturation
%
\providecommand*{\dsurf}{\dx S} % differential surface (conservation laws)
\providecommand*{\dvol}{\dx V}  % differential volume (conservation laws)
%
\providecommand*{\odarcy}{\darcy_{\text{o}}}     % darcy's flux (oil)
\providecommand*{\odens}{\dens_{\text{o}}}       % mass density (oil)
\providecommand*{\ofdarcy}{\fdarcy_{\text{o}}}   % darcy's flow (oil)
\providecommand*{\okdvisc}{\kdvisc_{\text{o}}}   % dyn. viscosity (oil)
\providecommand*{\omob}{\mob_{\text{o}}}         % phase mobility (oil)
\providecommand*{\opress}{\press_{\text{o}}}     % pore pressure (oil)
\providecommand*{\orpermea}{\permea_{\text{ro}}} % relative permea (oil)
\providecommand*{\wdarcy}{\darcy_{\text{w}}}     % darcy's flux (water)
\providecommand*{\wdens}{\dens_{\text{w}}}       % mass density (water)
\providecommand*{\wfdarcy}{\fdarcy_{\text{w}}}   % darcy's flow (water)
\providecommand*{\wkdvisc}{\kdvisc_{\text{w}}}   % dyn. viscosity (water)
\providecommand*{\wmob}{\mob_{\text{w}}}         % phase mobility (water)
\providecommand*{\wpress}{\press_{\text{w}}}     % pore pressure (water)
\providecommand*{\wrpermea}{\permea_{\text{rw}}} % relative permea (water)
%
% multiphase flow through porous media
\providecommand*{\idarcy}{\darcy_{i}}    % darcy's flux
\providecommand*{\idens}{\dens_{i}}      % mass density
\providecommand*{\ifdarcy}{\fdarcy_{i}}  % darcy's flow
\providecommand*{\ikdvisc}{\kdvisc_{i}}  % dyn. viscosity
\providecommand*{\imob}{\mob_{i}}        % phase mobility
\providecommand*{\ipress}{\press_{i}}    % pore pressure
\providecommand*{\irpermea}{\permea_{i}} % relative permeability
\providecommand*{\ivel}{\vel_{i}}        % pore velocity

% transport
%
\providecommand*{\kthdiff}{\alpha} % coefficient of thermal diffusivity
\providecommand*{\temp}{\theta}    % temperature
